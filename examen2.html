<html>
<head>
<link href="./examen2/estilo.css" rel="stylesheet" />
<meta charset="UTF-8">
</head>
<body>
<p>
Primer Ejercicio
</p>

 

<br>
<p>
Pregunta 1 
</p>
<p>
(0,5 puntos) ¿En cuál de los siguientes sistemas de ficheros una llamada close sobre un fichero implica un mensaje de protocolo cuando el fichero no ha sido modificado?
</p>
<p>
A) AFS v1
</p>
<p>
B) AFS v2
</p>
<p>
C) NFS v3
</p>
<p class="selected">
D) NFS v4
</p>

<br>
<p>
Pregunta 2 
</p>
<p>
(1 punto) En AFSv2, tenemos cuatro clientes (C1, C2, C3 y C4) y un servidor. C1 y C2 tienen abierto el fichero F simultáneamente, teniendo C3 y C4 una copia del fichero F del servidor en su cache (F-C3 y F-C4, respectivamente). C1 modifica el fichero y lo cierra (F-C1). A continuación, C2 modifica el fichero y lo cierra (F-C2). En una sesión posterior, C3 abre el fichero y lo modifica (F-C3-2). Si C4 abre el fichero F antes de que C3 lo cierre, ¿Qué copia será la que acceda?
</p>
<p>
A) F-C4
</p>
<p>
B) F-C1
</p>
<p>
C) F-C3-2
</p>
<p class="selected">
D) F-C2
</p>

<br>
<p>
Pregunta 3 
</p>
<p>
(0,5 puntos) ¿Cuál de los siguientes potenciales UFID permitirı́a la migración de ficheros y facilitarı́a la reutilización del id. del inodo en caso de borrado del fichero en un SFD?
</p>
<p>
A) id. de servidor + id. única de subconj + id. inodo + num. versión, siendo subconj un subconjunto de ficheros de un servidor
</p>
<p class="selected">
B) id. única de subconj + id. inodo + num. versión, siendo subconj un subconjunto de ficheros de un SFD
</p>
<p>
C) id. única de subconj + id. inodo, siendo subconj un subconjunto de ficheros de un SFD
</p>
<p>
D) id. de servidor + id. disco + id. partición + id. inodo + num. versión
</p>

<br>
<p>
Pregunta 4 
</p>
<p>
(0,5 puntos) Suponga que dos clientes actualizan de forma simultánea zonas disjuntas de un fichero. Considere el protocolo de coherencia de Sprite (Prot1) y el de DFS (Prot2). ¿Usarán la cache los dos clientes en ambos protocolos?
</p>
<p>

A) En ninguno de los dos
</p>
<p>
B) En ambos
</p>
<p class="selected">
C) Solo en Prot1
</p>
<p>
D) Solo en Prot2
</p>

<br>
<p>
Pregunta 5 
</p>
<p>
(1 punto) Supongamos que tenemos instalado el sistema de ficheros GPFS en un entorno con 6 nodos de E/S y con uso de cache de datos en los nodos de cómputo. Considere que el tamaño de bloque utilizado por GPFS es de 16KB, que se lleva a cabo prefetching secuencial de 2 bloques adicionales y que el tamaño de la rodaja es de 128KB. Además, se supone que la cache está inicialmente vacı́a y tiene un tamaño suficiente para albergar todos los bloques a los que se vaya accediendo. Si el primer nodo de E/S tiene B1, B2, B3, B4, B5, B6, B7 y B8 del fichero F y el resto de los bloques, de manera secuencial se reparten entre el resto de nodos de E/S, es decir, el segundo nodo tiene B9, B10, B11, B12, B13, B14, B15 y B16 y ası́ sucesivamente ¿Cuántas solicitudes a los nodos de E/S tendrá que realizar un nodo de cómputo que pretenda realizar una operación de lectura de los primeros 640K del fichero F?
</p>
<p>
A) 40 solitudes en total a 5 nodos de E/S
</p>
<p>
B) 15 solicitudes en total a 5 nodos de E/S
</p>
<p class="selected">
C) 20 solicitudes en total a 5 nodos de E/S
</p>
<p>
D) 20 solicitudes en total a 6 nodos de E/S
</p>

<br>
<p>
Pregunta 6 
</p>
<p>
(0,5 puntos) En AFSv1, si un cliente tiene la copia de un fichero en la cache y realiza una apertura de dicho fichero (llamada open), ¿cuántas interacciones deberı́a tener el cliente con el servidor para acceder al fichero?
</p>
<p>
A) Ninguna en cualquier caso
</p>
<p>
B) Ninguna, salvo si ha recibido una invalidación por parte del servidor
</p>
<p class="selected">
C) Ninguna, salvo que le haya enviador el servidor una actualización del fichero
</p>
<p>
D) 1 en cualquier caso
</p>

<br>
<p>
Pregunta 7 
</p>
<p>
(0,5 puntos) En AFSv2, tenemos tres clientes y un servidor. Si todos los clientes tienen una copia del fichero F del servidor en su cache y los tres clientes abren el fichero F concurrentemente para lectura, ¿cuántos accesos en total por parte de los clientes se realizarán al servidor para comprobar que las copias son válidas?
</p>
<p>
A) 3
</p>
<p>
B) 6
</p>
<p>
C) 1
</p>
<p class="selected">
D) 0
</p>

<br>
<p>
Pregunta 8 
</p>
<p>
(0,5 puntos) ¿En cuál de las siguientes arquitecturas el servidor no implementa la abstracción correspondiente al fichero?
</p>

<p>
A) Arquitectura tradicional con cliente thin
</p>
<p class="selected">
B) Arquitectura alternativa
</p>
<p>
C) Arquitectura tradicional con cliente fat
</p>
<p>
D) Arquitectura editor-subscriptor
</p>

<br>
<p>
Pregunta 9 
</p>
<p>
(0,5 puntos) ¿En cuál de los siguientes escenarios se lleva a cabo validación de la cache dirigida por el servidor?
</p>
<p>
A) En ext4, sistema de ficheros centralizado
</p>
<p>
B) En NFS v3
</p>
<p class="selected">
C) En AFS v2
</p>
<p>
D) En AFS v1 
</p>
<br>
<br>
<br>

<p>
Segundo Ejercicio
</p>

<p>
 En GPFS, tenemos una aplicación compuesta por 4 procesos. Se llevan a cabo la siguiente secuencia de operaciones:  
</p>
<p>
- El primer proceso escribe 64K sobre un fichero f desde el inicio (desplazamiento = 0)  
</p>
<p>
- El segundo proceso escribe 64K sobre el fichero f, comenzando en el desplazamiento 64K  
</p>
<p>
- El segundo proceso escribe 32K sobre el fichero f, comenzando en el desplazamiento 128K  
</p>
<p>
- El tercer proceso escribe 32K sobre el fichero f, comenzando en el desplazamiento 160K  
</p>
<p>
- El tercer proceso escribe 32K en el fichero f, desde el desplazamiento 192K  
</p>
<p>
- El cuarto proceso escribe 32K en el mismo fichero, desde el desplazamiento 224K  
</p>
<p>
- El primer proceso escribe 32K en el mismo fichero, desde el desplazamiento 64K  
</p>
<p>
- El segundo proceso escribe 32K en el mismo fichero, desde el desplazamiento 96K
</p>
<p>

<br>
<p>
Pregunta 10 
</p>
<p>
(1 punto) Indicar cuántos tokens son solicitados en total por los 4 procesos al Gestor de Tokens:
</p>
<p>
A) 8
</p>
<p class="selected">
B) 6
</p>
<p>
C) 4
</p>
<p>
D) 5
</p>

<br>
<p>
Pregunta 11 
</p>
<p>
(0,5 puntos) Si una vez terminadas las operaciones de escritura del fichero f, el primer proceso realizara una operación stat sobre el fichero f, indicar cuántas revocaciones de tokens de escritura compartida del i-nodo de f se llevarı́an a cabo.
</p>
<p class="selected">
A) 4
</p>
<p>
B) 2
</p>
<p>
C) 0
</p>
<p>
D) 1
</p>

<br>
<p>
Pregunta 12 
</p>
<p>
(0,5 puntos) Al final de dicha secuencia, ¿qué token tendrá el segundo proceso?
</p>
<p>
A) [96K,224K)
</p>
<p>
B) [96K,∞)
</p>
<p class="selected">
C) [96K,160K)
</p>
<p>
D) [64K,160K)
</p>

<br>
<p>
Pregunta 13 
</p>
<p>
(0,5 puntos) Al final de dicha secuencia, ¿qué token tendrá el cuarto proceso?
</p>
<p>
A) [224K,256K)
</p>
<p class="selected">
B) [224K,∞)
</p>
<p>
C) No tendrá ningún token
</p>
<p>
D) [160K,∞)
</p>

<br>
<p>
Pregunta 14 
</p>
<p>
(1 punto) En la secuencia anterior, ¿cuántos ajustes de tokens hacen los 4 procesos en total, considerando ajuste a la revocación de tokens que entren en conflicto con el rango requerido?
</p>
<p>
A) 0
</p>
<p>
<p class="selected">
B) 3
</p>
<p>
C) 6
</p>
<p>
D) 4
</p>

<br>
<p>
Pregunta 15 
</p>
<p>
(0,5 puntos) Al final de dicha secuencia, ¿qué token tendrá el tercer proceso?
</p>
<p>
A) [160K,256K)
</p>
<p>
B) [160K,∞)
</p>
<p class="selected">
C) [160K,224K)
</p>
<p>
D) [96K,256K)
</p>

<br>
<p>
Pregunta 16 
</p>
<p>
(0,5 puntos) Al final de dicha secuencia, ¿qué token tendrá el primer proceso?
</p>
<p>
A) [0,64K)
</p class="selected">
<p>
B) [0,96K)
</p>
<p>
C) [0,∞)
</p>
<p>
D) [64K,96K) 
</p>

</body>
</html>
